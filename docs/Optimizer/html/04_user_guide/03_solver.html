

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Solver &mdash; optimizer 1.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
        <script type="text/javascript" src="../_static/copybutton.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/qb1-sphinx-rtd.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme-overrides.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/optimizer.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Stoppers" href="04_stopper.html" />
    <link rel="prev" title="Repair" href="02_repair.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> optimizer
          

          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/01_introduction.html">What is Optimizer?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/01_introduction.html#using-optimizer">Using Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/01_introduction.html#is-optimizer-right-for-my-problem">Is Optimizer right for my problem?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/01_introduction.html#assumptions">Assumptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01_introduction/01_introduction.html#faq">FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_getting_started/01_prerequisites.html">Installation prerequisites</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../02_getting_started/01_prerequisites.html#python-virtual-environments">Python virtual environments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../02_getting_started/01_prerequisites.html#using-conda">Using <code class="docutils literal notranslate"><span class="pre">conda</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../02_getting_started/01_prerequisites.html#installing-requirements">Installing requirements</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../02_getting_started/02_install.html">Installation guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../03_tutorial/01_solver_api.html">Solver API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/01_solver_api.html#ask-and-tell-pattern">Ask and Tell pattern</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../03_tutorial/01_solver_api.html#standard-solve-pattern">Standard solve pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../03_tutorial/01_solver_api.html#solving-with-ask-and-tell">Solving with Ask and Tell</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/01_solver_api.html#further-reading">Further reading</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../03_tutorial/02_toy_problem.html">Toy problem</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/02_toy_problem.html#The-Solver">The Solver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../03_tutorial/02_toy_problem.html#ask-method"><code class="docutils literal notranslate"><span class="pre">ask</span></code> method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/02_toy_problem.html#Evaluating">Evaluating</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../03_tutorial/02_toy_problem.html#tell-method"><code class="docutils literal notranslate"><span class="pre">tell</span></code> method</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/02_toy_problem.html#Solver-loop">Solver loop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../03_tutorial/03_constraints.html">Constraints</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/03_constraints.html#Constraints-as-penalty-functions">Constraints as penalty functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/03_constraints.html#Constraints-as-repair-functions">Constraints as repair functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/03_constraints.html#Warning-about-pickling-constraints">Warning about pickling constraints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../03_tutorial/04_optimization_problem.html">Optimization problem</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/04_optimization_problem.html#Maximizing-a-problem">Maximizing a problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../03_tutorial/04_optimization_problem.html#The-StatefulOptimizationProblem">The <code class="docutils literal notranslate"><span class="pre">StatefulOptimizationProblem</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../03_tutorial/04_optimization_problem.html#StatefulOptimizationProblem-with-Numpy"><code class="docutils literal notranslate"><span class="pre">StatefulOptimizationProblem</span></code> with <code class="docutils literal notranslate"><span class="pre">Numpy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../03_tutorial/04_optimization_problem.html#StatefulOptimizationProblem-with-Pandas"><code class="docutils literal notranslate"><span class="pre">StatefulOptimizationProblem</span></code> with <code class="docutils literal notranslate"><span class="pre">Pandas</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="01_penalty.html">Penalty</a><ul>
<li class="toctree-l2"><a class="reference internal" href="01_penalty.html#Constraint-types">Constraint types</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_penalty.html#Equality-constraints">Equality constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_penalty.html#Model-based-constraints">Model-based constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_penalty.html#Dealing-with-a-computationally-expensive-constraint">Dealing with a computationally expensive constraint</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_penalty.html#Penalty-options">Penalty options</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_penalty.html#Changing-the-penalty-multiplier-(\lambda)">Changing the penalty multiplier (<span class="math notranslate nohighlight">\(\lambda\)</span>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="01_penalty.html#Set-based-constraints">Set-based constraints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="01_penalty.html#A-comment-on-set-constraints:">A comment on set constraints:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="02_repair.html">Repair</a><ul>
<li class="toctree-l2"><a class="reference internal" href="02_repair.html#MultipleOf-and-Integer-constraints"><code class="docutils literal notranslate"><span class="pre">MultipleOf</span></code> and <code class="docutils literal notranslate"><span class="pre">Integer</span></code> constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="02_repair.html#User-defined-set-constraints">User defined set constraints</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Solver</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basesolver"><code class="docutils literal notranslate"><span class="pre">BaseSolver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#scaledsolver"><code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#differentialevolutionsolver"><code class="docutils literal notranslate"><span class="pre">DifferentialEvolutionSolver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#evolutionarystrategiessolver"><code class="docutils literal notranslate"><span class="pre">EvolutionaryStrategiesSolver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#particleswarmsolver"><code class="docutils literal notranslate"><span class="pre">ParticleSwarmSolver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulatedannealingsolver"><code class="docutils literal notranslate"><span class="pre">SimulatedAnnealingSolver</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#discretelocalsearchsolver"><code class="docutils literal notranslate"><span class="pre">DiscreteLocalSearchSolver</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="04_stopper.html">Stoppers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="04_stopper.html#noimprovementstopper"><code class="docutils literal notranslate"><span class="pre">NoImprovementStopper</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="04_stopper.html#walltimestopper"><code class="docutils literal notranslate"><span class="pre">WallTimeStopper</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="04_stopper.html#satisfiedconstraintstopper"><code class="docutils literal notranslate"><span class="pre">SatisfiedConstraintStopper</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05_logger.html">Logger</a><ul>
<li class="toctree-l2"><a class="reference internal" href="05_logger.html#basiclogger"><code class="docutils literal notranslate"><span class="pre">BasicLogger</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="05_logger.html#penaltylogger"><code class="docutils literal notranslate"><span class="pre">PenaltyLogger</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="05_logger.html#nbestlogger"><code class="docutils literal notranslate"><span class="pre">NBestLogger</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="05_logger.html#file-based-logging">File-Based Logging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="06_plotting.html">Plotting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="06_plotting.html#Convergence-plot">Convergence plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="06_plotting.html#Penalty-plot">Penalty plot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="07_diagnostic.html">Optimization diagnostic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="07_diagnostic.html#Overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="07_diagnostic.html#What-this-is">What this is</a></li>
<li class="toctree-l3"><a class="reference internal" href="07_diagnostic.html#What-this-is-not">What this is not</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="07_diagnostic.html#The-optimization-model">The optimization model</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_diagnostic.html#The-diagnostic">The diagnostic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="07_diagnostic.html#Violated-soft-constraints">Violated soft constraints</a></li>
<li class="toctree-l3"><a class="reference internal" href="07_diagnostic.html#Changing-the-inequality-bound">Changing the inequality bound</a></li>
<li class="toctree-l3"><a class="reference internal" href="07_diagnostic.html#Impact-we-can-achieve-on-objective-value-by-changing-inequality">Impact we can achieve on objective value by changing inequality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="07_diagnostic.html#Extrapolation-pitfall">Extrapolation pitfall</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_diagnostic.html#Complex-problem-support">Complex problem support</a></li>
<li class="toctree-l2"><a class="reference internal" href="07_diagnostic.html#Conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="08_history_penalty.html">Historical penalties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="08_history_penalty.html#Overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="08_history_penalty.html#What-this-is">What this is</a></li>
<li class="toctree-l3"><a class="reference internal" href="08_history_penalty.html#What-this-is-not">What this is not</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="08_history_penalty.html#The-historical-data-and-the-optimization-problem">The historical data and the optimization problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="08_history_penalty.html#Using-the-historical-penalty">Using the historical penalty</a><ul>
<li class="toctree-l3"><a class="reference internal" href="08_history_penalty.html#Validating-that-history-is-constraining-our-solutions">Validating that history is constraining our solutions</a></li>
<li class="toctree-l3"><a class="reference internal" href="08_history_penalty.html#Choosing-the-multiplier">Choosing the multiplier</a></li>
<li class="toctree-l3"><a class="reference internal" href="08_history_penalty.html#Pandas-support">Pandas support</a></li>
<li class="toctree-l3"><a class="reference internal" href="08_history_penalty.html#Pipeline-support">Pipeline support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="09_adaptive_differential_evolution.html">Adaptive Differential Evolution example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="09_adaptive_differential_evolution.html#Vanilla-DE-logic">Vanilla DE logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_adaptive_differential_evolution.html#What-can-we-define-and-tune?">What can we define and tune?</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_adaptive_differential_evolution.html#Adaptive-Differential-Evolution">Adaptive Differential Evolution</a><ul>
<li class="toctree-l3"><a class="reference internal" href="09_adaptive_differential_evolution.html#Some-setup">Some setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="09_adaptive_differential_evolution.html#Sample-run-of-two-approaches">Sample run of two approaches</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_adaptive_differential_evolution.html#Picking-mutator-based-on-prior-success">Picking mutator based on prior success</a></li>
<li class="toctree-l2"><a class="reference internal" href="09_adaptive_differential_evolution.html#Using-an-adaptive-parameter">Using an adaptive parameter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="09_adaptive_differential_evolution.html#Happy-hacking!">Happy hacking!</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../05_examples/warm_start.html">Warm start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../05_examples/warm_start.html#Problem-setup">Problem setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05_examples/warm_start.html#Warm-starting-ParticleSwarmSolver">Warm starting <code class="docutils literal notranslate"><span class="pre">ParticleSwarmSolver</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../05_examples/de_hyperparameters.html">Tuning differential evolution hyperparameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../05_examples/de_hyperparameters.html#Setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05_examples/de_hyperparameters.html#Effect-of-strategy">Effect of <code class="docutils literal notranslate"><span class="pre">strategy</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../05_examples/de_hyperparameters.html#Effect-of-popsize">Effect of <code class="docutils literal notranslate"><span class="pre">popsize</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../05_examples/de_hyperparameters.html#Effect-of-mutation">Effect of <code class="docutils literal notranslate"><span class="pre">mutation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../05_examples/de_hyperparameters.html#Effect-of-recombination">Effect of <code class="docutils literal notranslate"><span class="pre">recombination</span></code></a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../06_optimizer_api/modules.html">optimizer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../06_optimizer_api/optimizer.html">optimizer package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../06_optimizer_api/optimizer.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.constraint.html">optimizer.constraint package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.experimental.html">optimizer.experimental package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.loggers.html">optimizer.loggers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.plotting.html">optimizer.plotting package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.problem.html">optimizer.problem package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.solvers.html">optimizer.solvers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.stoppers.html">optimizer.stoppers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.testing.html">optimizer.testing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../06_optimizer_api/optimizer.utils.html">optimizer.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../06_optimizer_api/optimizer.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../06_optimizer_api/optimizer.html#module-optimizer.exceptions">optimizer.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../06_optimizer_api/optimizer.html#module-optimizer.types">optimizer.types module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">optimizer</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          








    



    
















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Solver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <!-- User defined GitHub URL -->
              <a href="https://git.mckinsey-solutions.com/opm/optimus" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="solver">
<h1>Solver<a class="headerlink" href="#solver" title="Permalink to this headline">¶</a></h1>
<p>Before taking a look at specific solvers, be sure to first understand the <a class="reference internal" href="../03_tutorial/01_solver_api.html"><span class="doc">solver API</span></a>. This will give a good overview of methods that all solvers have and how they are meant to interact with an optimization problem. This document will point users to resources on each solver and discuss the behavior of important hyperparameters.</p>
<p>The default hyperparameters for all solvers should not be assumed as good values for a general problem. Every problem is different and these values will always have to be tuned. In general, choosing these values is non-trivial and is an active area of research.</p>
<div class="section" id="basesolver">
<h2><code class="docutils literal notranslate"><span class="pre">BaseSolver</span></code><a class="headerlink" href="#basesolver" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">BaseSolver</span></code> is an abstract base class for all solvers to extend. It defines the Ask and Tell interface and handles some (but not all) sense checking. Internally, all solvers are assumed to be minimizing their problem. Sense checking allows one to maximize a problem by setting <code class="docutils literal notranslate"><span class="pre">sense=&quot;maximize&quot;</span></code> in a solver’s constructor.</p>
<p>Most solvers have the <code class="docutils literal notranslate"><span class="pre">maxiter</span></code> keyword argument that can be thought of as a hyperparameter. This is often the easiest to tune since it will be clear when a search will need to run longer. Rely on logging and convergence plots included in the <code class="docutils literal notranslate"><span class="pre">loggers</span></code> and <code class="docutils literal notranslate"><span class="pre">plotting</span></code> packages to determine this.</p>
</div>
<div class="section" id="scaledsolver">
<h2><code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code><a class="headerlink" href="#scaledsolver" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code> is another abstract base class. All instances of <code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code> work by converting parameters that are passed to the solver from their original domain to be between in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code>. This class abstracts the operations required to scale parameters back to their original domain. Scaling the domain helps with hyperparameter choices for things like step sizes. This way a step of, say, <code class="docutils literal notranslate"><span class="pre">0.1</span></code> means the same thing internally, but externally it could mean many things based on the domain.</p>
</div>
<div class="section" id="differentialevolutionsolver">
<h2><code class="docutils literal notranslate"><span class="pre">DifferentialEvolutionSolver</span></code><a class="headerlink" href="#differentialevolutionsolver" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">DifferentialEvolutionSolver</span></code> is a wrapper around the <code class="docutils literal notranslate"><span class="pre">Scipy</span></code> implementation of differential evolution (DE). This solver uses the same scaling scheme as <code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code>, but the internal <code class="docutils literal notranslate"><span class="pre">Scipy</span></code> package handles this rather than <code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code>. The <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html"><code class="docutils literal notranslate"><span class="pre">Scipy</span></code> implementation</a> covers many mutation strategies, including the original strategy from Storn and Prince (1997). The <a class="reference external" href="https://en.wikipedia.org/wiki/Differential_evolution">wikipedia article</a> gives a great outline of the algorithm.</p>
<p>The hyperparameters in the optimizer <code class="docutils literal notranslate"><span class="pre">DifferentialEvolutionSolver</span></code> are <code class="docutils literal notranslate"><span class="pre">popsize</span></code>, <code class="docutils literal notranslate"><span class="pre">mutation</span></code>, <code class="docutils literal notranslate"><span class="pre">recombination</span></code>, and <code class="docutils literal notranslate"><span class="pre">strategy</span></code>.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">popsize</span></code>: the population size of the search. This is the number of rows in the matrix returned from the <code class="docutils literal notranslate"><span class="pre">ask</span></code> method. Too small of a population size may lead to premature convergence. Too large will lead to performance issues. Population size will often have to increase as problem dimensionality increases to get a good coverage of the solution space.</li>
<li><code class="docutils literal notranslate"><span class="pre">mutation</span></code>: the mutation factor. Often denoted as <code class="docutils literal notranslate"><span class="pre">F</span></code> in literature. This can be thought of as the step size in the search. Too small an <code class="docutils literal notranslate"><span class="pre">F</span></code> will cause fast convergence to a (possibly) poor solution. Too large an <code class="docutils literal notranslate"><span class="pre">F</span></code> is likely to cause the search to not be able to converge at all. The <code class="docutils literal notranslate"><span class="pre">Scipy</span></code> implementation allows a tuple to be provided for this argument which will cause the mutation rate used at each generation to be sampled uniformly from the range provided. This is called “dithering” and often improves search convergence.</li>
<li><code class="docutils literal notranslate"><span class="pre">recombination</span></code>: the recombination (or crossover) rate. Often denoted as <code class="docutils literal notranslate"><span class="pre">C_r</span></code> in literature. This controls how much new information is used in newly created solutions. <code class="docutils literal notranslate"><span class="pre">C_r</span></code> is always in <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1]</span></code> and usually is high in order to create sufficiently different new solutions.</li>
<li><code class="docutils literal notranslate"><span class="pre">strategy</span></code>: the mutation strategy used to create new solutions. Strategies that incorporate the best solution (e.g., the default <code class="docutils literal notranslate"><span class="pre">best1bin</span></code>) will often converge faster to an solution. The strategy implemented in Storn and Price (1997), called <code class="docutils literal notranslate"><span class="pre">rand1bin</span></code>, has been proven to be a good general strategy. See all the options in the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.differential_evolution.html"><code class="docutils literal notranslate"><span class="pre">Scipy</span></code> docs</a>.</li>
</ul>
</div>
<div class="section" id="evolutionarystrategiessolver">
<h2><code class="docutils literal notranslate"><span class="pre">EvolutionaryStrategiesSolver</span></code><a class="headerlink" href="#evolutionarystrategiessolver" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">EvolutionaryStrategiesSolver</span></code> is a <code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code> that implements the Covariance Matrix Adaptation Evolutionary Strategy (CMA-ES). The <a class="reference external" href="https://en.wikipedia.org/wiki/CMA-ES">wikipedia article</a> gives a good overview of CMA-ES. However, a basic understanding of evolutionary strategies is enough to use this algorithm. This <a class="reference external" href="https://gist.github.com/karpathy/77fbb6a8dac5395f1b73e7a89300318d">gist</a> implements a simple ES and is a good starting point to understand the idea of sampling a population to estimate a distribution for optimization.</p>
<p>The main hyperparameters for CMA-ES are <code class="docutils literal notranslate"><span class="pre">mu</span></code>, <code class="docutils literal notranslate"><span class="pre">lam</span></code>, and <code class="docutils literal notranslate"><span class="pre">sigma</span></code>.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">mu</span></code>: the number of solutions to select from the <code class="docutils literal notranslate"><span class="pre">lam</span></code> samples based on objective value. These <code class="docutils literal notranslate"><span class="pre">mu</span></code> points are used to re-estimate the covariance of the multivariate normal being estimated in CMA-ES. If <code class="docutils literal notranslate"><span class="pre">mu</span></code> is too small, the covariance may become rank deficient. If it is too large, the matrix estimated will tend toward the original covariance matrix in the normal distribution from which we sampled the original <code class="docutils literal notranslate"><span class="pre">mu</span></code> points. In other words, it will be uninformative. Default is set to <code class="docutils literal notranslate"><span class="pre">lam</span> <span class="pre">//</span> <span class="pre">2</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">lam</span></code>: the number of solutions generated from the current estimated multivariate normal distribution. This will be the number of rows in the matrix returned from <code class="docutils literal notranslate"><span class="pre">ask</span></code>. Similar to a population size, small values of <code class="docutils literal notranslate"><span class="pre">lam</span></code> will cause the samples to be uninformative to the search. Large values will cause performance issues.</li>
<li><code class="docutils literal notranslate"><span class="pre">sigma</span></code>: the initial standard deviation of the multivariate normal being sampled in CMA-ES. This can be thought of as a step size parameter. If this is too large or too small, the search will have a hard time finding good solutions.</li>
</ul>
</div>
<div class="section" id="particleswarmsolver">
<h2><code class="docutils literal notranslate"><span class="pre">ParticleSwarmSolver</span></code><a class="headerlink" href="#particleswarmsolver" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">ParticleSwarmSolver</span></code> is a <code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code> that implements the standard particle swarm optimization (PSO) algorithm described in Kennedy and Eberhart (1995). The <a class="reference external" href="https://en.wikipedia.org/wiki/Particle_swarm_optimization">wikipedia article</a> on PSO is enough to get started.</p>
<p>The important hyperparameters for PSO are <code class="docutils literal notranslate"><span class="pre">popsize</span></code>, <code class="docutils literal notranslate"><span class="pre">intertia</span></code>, <code class="docutils literal notranslate"><span class="pre">social_parameter</span></code>, and <code class="docutils literal notranslate"><span class="pre">cognitive_parameter</span></code>:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">popsize</span></code>: the population size of the search. This is the number of rows in the matrix returned by the <code class="docutils literal notranslate"><span class="pre">ask</span></code> method. Similar to other population based methods, too small of a population will lead to premature convergence and too large will lead to performance issues. Population size will often have to increase if the dimensionality of the optimization problem increases.</li>
<li><code class="docutils literal notranslate"><span class="pre">inertia</span></code>: the amount of the previous velocity to consider during the velocity update. Balances how “easy” it is to change directions in the search. Setting to 0 will cause the update to take in past velocity history into account. This is similar to momentum in a gradient based search.</li>
<li><code class="docutils literal notranslate"><span class="pre">social_parameter</span></code>: controls how much to consider the global best solution a particle’s velocity update. If this is too large, the search will likely be pulled into a local optimum quickly.</li>
<li><code class="docutils literal notranslate"><span class="pre">cognitive_parameter</span></code>: controls how much to consider the particle’s previous best position in its velocity update. If you suspect the search space is highly multimodal, consider increasing this parameter to have more diverse solutions.</li>
</ul>
</div>
<div class="section" id="simulatedannealingsolver">
<h2><code class="docutils literal notranslate"><span class="pre">SimulatedAnnealingSolver</span></code><a class="headerlink" href="#simulatedannealingsolver" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">SimulatedAnnealingSolver</span></code> is a <code class="docutils literal notranslate"><span class="pre">ScaledSolver</span></code> implements simulated annealing (SA) for continuous spaces. The original algorithm is outlined in <a class="reference external" href="https://www.researchgate.net/publication/220492522">this paper</a>. SA is a point based algorithm, meaning it returns a single rowed matrix from the <code class="docutils literal notranslate"><span class="pre">ask</span></code> method. This SA implementation operates with a term called “cycles”. One cycle refers to one step in each dimension.</p>
<p>The important hyperparameters for SA are <code class="docutils literal notranslate"><span class="pre">initial_temp</span></code>, <code class="docutils literal notranslate"><span class="pre">final_temp</span></code>, <code class="docutils literal notranslate"><span class="pre">initial_neighborhood</span></code>, <code class="docutils literal notranslate"><span class="pre">update_scale_steps</span></code>, and <code class="docutils literal notranslate"><span class="pre">reduce_temp_steps</span></code>:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">initial_temp</span></code> and <code class="docutils literal notranslate"><span class="pre">final_temp</span></code>: the initial and final temperatures control how likely it is to accept a worse solution in the Metropolis acceptance criterion. Through the duration of the search, the temperature decreases based on an exponential decay. Difficult problems often have to start with a large <code class="docutils literal notranslate"><span class="pre">initial_temp</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">initial_neighborhood</span></code>: this parameter controls the values in the initial step vector. This is how far SA is allowed to step in any direction. Remember this is scaled to the domain, so a value of <code class="docutils literal notranslate"><span class="pre">0.5</span></code> the search can - at a maximum - take a step the size of half of the domain.</li>
<li><code class="docutils literal notranslate"><span class="pre">update_scale_steps</span></code>: the amount of cycles required to update the step vector. This update takes into account how successful the steps are in each direction. Updating too often will not accumulate enough information, updating too infrequently may cause the search to be misled to a local optimum.</li>
<li><code class="docutils literal notranslate"><span class="pre">update_temp_steps</span></code>: the amount of step vector updates required to update the temperature. For an <code class="docutils literal notranslate"><span class="pre">n</span></code> dimensional problem, the temperature will be updated every <code class="docutils literal notranslate"><span class="pre">update_scale_steps</span> <span class="pre">*</span> <span class="pre">n</span></code> iterations of the <code class="docutils literal notranslate"><span class="pre">ask</span></code> and <code class="docutils literal notranslate"><span class="pre">tell</span></code> loop.</li>
</ul>
</div>
<div class="section" id="discretelocalsearchsolver">
<h2><code class="docutils literal notranslate"><span class="pre">DiscreteLocalSearchSolver</span></code><a class="headerlink" href="#discretelocalsearchsolver" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">DiscreteLocalSearchSolver</span></code> implements a discrete local search algorithm. In contrast with continuous solvers that are initialized with min/max bounds for each dimension, this solver is initialized with a list of values that each variable can take in the <code class="docutils literal notranslate"><span class="pre">domain</span></code> parameter. This algorithm is well suited for cases when the domain for each variable is coarse, this means that it has few possible options. If the domain is a granular mesh, then a continuous algorithm might be a better option.</p>
<p>The algorithm is initialized with a random solution and it iteratively evaluates moves in different dimensions as given by the options in the discrete domain. Specifically, it attempts moves to adjacent positions in a dimension/coordinate-wise fashion (one dimension at a time). If a movement improves the objective value, the algorithm updates the current solution and continues the search. If a solution cannot be further improved, the algorithm generates a new random solution and starts over. The best historical solution is always stored in memory. The implementation is fully vectorized, meaning that in each iteration the algorithm explores <code class="docutils literal notranslate"><span class="pre">popsize</span></code> moves simultaneously.</p>
<p>The important hyperparameters for DLS are <code class="docutils literal notranslate"><span class="pre">popsize</span></code> and <code class="docutils literal notranslate"><span class="pre">maxiter</span></code>. It strongly depends on the <code class="docutils literal notranslate"><span class="pre">domain</span></code> of the variables:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">popsize</span></code>: the number of solutions explored at each iteration. This is the number of rows in the matrix returned by the <code class="docutils literal notranslate"><span class="pre">ask</span></code> method. Too small of a population will require a larger number of iterations to find good solutions. Larger population implies that we explore more candidate solutions per iteration, thus increasing the likelihood of finding a good solution in less iterations.</li>
<li><code class="docutils literal notranslate"><span class="pre">maxiter</span></code>: the maximum number of iterations allowed to run. An iteration in this algorithm is the evaluation of a single move. Thus, a small number of iterations will not guarantee that a solution is a local optima. Note that if the dimension of the problem is large and/or the possible values in the domains is large, then a larger amount of iterations is needed to find locally optimal solutions.</li>
<li><code class="docutils literal notranslate"><span class="pre">domain</span></code>: the values each variable can take. The less granular this domain is, the more sense it makes to use this algorithm. If the domain is too granular (with a large amount of options per dimension), then we recommend using a continuous algorithm with repairs. To get a better feeling of this: consider the case where 10 variables have 500 options each, and the goal is to maximize their sum. In the worst case scenario we would need at least 5000 iterations to find one local optima for this simple objective function. If the objective function is more complex, then we might need several resets, and thus effectively requiring above tens of thousands of iterations, which can be prohibitively expensive.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="04_stopper.html" class="btn btn-neutral float-right" title="Stoppers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="02_repair.html" class="btn btn-neutral float-left" title="Repair" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, QuantumBlack

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>